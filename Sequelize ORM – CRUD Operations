Sequelize ORM â€“ CRUD Operations
ðŸ”¹ Install Required Packages
npm init -y
npm install sequelize mysql2 express
ðŸ”¹ Basic Project Structure
sequelize-crud/
 â”œâ”€â”€ models/
 â”‚   â””â”€â”€ User.js
 â”œâ”€â”€ config/
 â”‚   â””â”€â”€ db.js
 â”œâ”€â”€ server.js
 â””â”€â”€ package.json
ðŸ”¹ Database Connection (config/db.js)
const { Sequelize } = require('sequelize');

const sequelize = new Sequelize(
    'testdb',     // database name
    'root',       // username
    'password',   // password
    {
        host: 'localhost',
        dialect: 'mysql'
    }
);

module.exports = sequelize;
ðŸ”¹ Define Model (models/User.js)
const { DataTypes } = require('sequelize');
const sequelize = require('../config/db');

const User = sequelize.define('User', {
    name: {
        type: DataTypes.STRING,
        allowNull: false
    },
    email: {
        type: DataTypes.STRING,
        unique: true,
        allowNull: false
    },
    age: {
        type: DataTypes.INTEGER
    }
});

module.exports = User;
ðŸ”¹ Sync Database & Start Server (server.js)
const express = require('express');
const sequelize = require('./config/db');
const User = require('./models/User');
const cors = require('cors');
app.use(cors({
    origin: '*',        // allow all frontends (for development)
    methods: ['GET','POST','PUT','DELETE'],
    allowedHeaders: ['Content-Type']
}));
const app = express();
app.use(express.json());

// Sync database
sequelize.sync()
.then(() => console.log('Database synced'))
.catch(err => console.log(err));

app.listen(3000, () => {
    console.log('Server running on port 3000');
});
ðŸ” CRUD Operations Using Sequelize
1ï¸âƒ£ CREATE (Insert Record)
app.post('/users', async (req, res) => {
    const user = await User.create(req.body);
    res.json(user);
});
2ï¸âƒ£ READ (Fetch Records)
app.get('/users', async (req, res) => {
    const users = await User.findAll();
    res.json(users);
});
ðŸ”¹ Get User by ID
app.get('/users/:id', async (req, res) => {
    const user = await User.findByPk(req.params.id);
    res.json(user);
});
3ï¸âƒ£ UPDATE (Modify Record)
app.put('/users/:id', async (req, res) => {
    await User.update(req.body, {
        where: { id: req.params.id }
    });
    res.json({ message: 'User Updated' });
});
4ï¸âƒ£ DELETE (Remove Record)
app.delete('/users/:id', async (req, res) => {
    await User.destroy({
        where: { id: req.params.id }
    });
    res.json({ message: 'User Deleted' });
});


<!DOCTYPE html>
<html>
<head>
    <title>Sequelize CRUD Frontend</title>
    <style>
        body { font-family: Arial; }
        input, button { margin: 5px; }
    </style>
</head>
<body>

<h2>User Management</h2>

<input id="name" placeholder="Name">
<input id="email" placeholder="Email">
<input id="age" placeholder="Age">
<button onclick="addUser()">Add User</button>

<h3>Users List</h3>
<ul id="users"></ul>

<script>
const API_URL = 'http://localhost:3000/users';

/* =========================
   CREATE
========================= */
function addUser() {
    fetch(API_URL, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({
            name: document.getElementById('name').value,
            email: document.getElementById('email').value,
            age: document.getElementById('age').value
        })
    })
    .then(res => res.json())
    .then(() => loadUsers());
}

/* =========================
   READ
========================= */
function loadUsers() {
    fetch(API_URL)
    .then(res => res.json())
    .then(data => {
        const list = document.getElementById('users');
        list.innerHTML = '';
        data.forEach(user => {
            list.innerHTML += `
                <li>
                    ${user.name} (${user.email})
                    <button onclick="deleteUser(${user.id})">Delete</button>
                </li>
            `;
        });
    });
}

/* =========================
   DELETE
========================= */
function deleteUser(id) {
    fetch(`${API_URL}/${id}`, {
        method: 'DELETE'
    })
    .then(() => loadUsers());
}

// Load users on page load
loadUsers();
</script>

</body>
</html>
